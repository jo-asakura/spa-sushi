!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("hogan.js");this.Templates=this.Templates||{},this.Templates["commons/layout"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b('<!DOCTYPE html><html lang="en-US" class="'),d.b(d.v(d.f("env",a,b,0))),d.b('" data-page="'),d.b(d.v(d.f("pageName",a,b,0))),d.b('"><head><!--[if IE 7]><script>document.documentElement.className += " ie ie7";</script><![endif]--><!--[if IE 8]><script>document.documentElement.className += " ie ie8";</script><![endif]--><!--[if IE 9]><script>document.documentElement.className += " ie ie9";</script><![endif]--><!--[if IE]><script src="/js/html5shiv.js"></script><![endif]--><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="msapplication-tap-highlight" content="no"><title>'),d.b(d.v(d.f("appName",a,b,0))),d.b("</title>"),d.s(d.f("styles",a,b,1),a,b,0,719,755,"{{ }}")&&(d.rs(a,b,function(a,b,c){c.b('<link rel="stylesheet" href="'),c.b(c.v(c.d(".",a,b,0))),c.b('">')}),a.pop()),d.b('<script src="/js/jquery-1.10.2.min.js" type="text/javascript"></script></head><body><div id="site-wrapper" role="application"><header id="header" role="banner">'),d.b(d.t(d.f("widget-header",a,b,0))),d.b('</header><main id="content" role="main">'),d.b(d.t(d.f("widget-content",a,b,0))),d.b('</main><div id="loader" role="complementary"><img src="/img/loader_blue_32.gif" class="loader js-loader"></div><footer id="footer" role="contentinfo">'),d.b(d.t(d.f("widget-footer",a,b,0))),d.b("</footer></div>"),d.s(d.f("scripts",a,b,1),a,b,0,1201,1253,"{{ }}")&&(d.rs(a,b,function(a,b,c){c.b('<script type="text/javascript" src="'),c.b(c.v(c.d(".",a,b,0))),c.b('"></script>')}),a.pop()),d.b("</body></html>"),d.fl()}),this.Templates["widget-content/about"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b('<div class="info-container">'),d.b(d.t(d.f("widget-info",a,b,0))),d.b('</div><div class="go-back-container"><a href="javascript:void(0)" redirect="/">'),d.b(d.v(d.f("termGoBack",a,b,0))),d.b("</a></div>"),d.fl()}),this.Templates["widget-content/contact"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b('<div class="info-container">'),d.b(d.t(d.f("widget-info",a,b,0))),d.b('</div><div class="social-container">'),d.b(d.t(d.f("social-details",a,b,0))),d.b('</div><div class="go-back-container"><a href="javascript:void(0)" redirect="/">'),d.b(d.v(d.f("termGoBack",a,b,0))),d.b("</a></div>"),d.fl()}),this.Templates["widget-content/home"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b('<div class="links-container">'),d.b(d.t(d.f("widget-links",a,b,0))),d.b("</div>"),d.fl()}),this.Templates["widget-footer/main"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b("<p>"),d.b(d.t(d.f("text",a,b,0))),d.b("</p>"),d.fl()}),this.Templates["widget-header/main"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b('<h2><a href="javascript:void(0)" redirect="/">'),d.b(d.v(d.f("title",a,b,0))),d.b("</a></h2>"),d.fl()}),this.Templates["widget-info/main"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b('<p class="info">'),d.b(d.t(d.f("text",a,b,0))),d.b("</p>"),d.fl()}),this.Templates["widget-links/main"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b('<ul class="list-links">'),d.s(d.f("items",a,b,1),a,b,0,33,116,"{{ }}")&&(d.rs(a,b,function(a,b,c){c.b('<li><a href="javascript:void(0)" redirect="/'),c.b(c.v(c.f("page",a,b,0))),c.b('">Navigate to '),c.b(c.v(c.f("name",a,b,0))),c.b("</a></li>")}),a.pop()),d.b("</ul>"),d.fl()}),this.Templates["widget-social/main"]=new c.Template(function(a,b,c){var d=this;return d.b(c=c||""),d.b("<div></div>"),d.fl()}),"undefined"!=typeof b&&"undefined"!=typeof b.exports&&(b.exports=this.Templates)},{"hogan.js":42}],2:[function(a){!function(b,c){var d=a("nodeject"),e=a("underscore"),f=a("eventemitter2").EventEmitter2,g=a("director"),h=a("async"),i=a("../build/templates.js"),j={},k={},l=function(a){return function(){return a}},m=function(a){return function(b){return b[a]}},n=new d;n.define({name:"window",type:l(b),singleton:!0}).define({name:"$",type:l(c),singleton:!0}).define({name:"_",type:l(e),singleton:!0}).define({name:"router",type:l(g),singleton:!0}).define({name:"templates",type:l(i),singleton:!0}).define({name:"async",type:l(h),singleton:!0}).define({name:"http",type:l(j),singleton:!0}).define({name:"https",type:l(k),singleton:!0}).define({name:"app",type:function(){return{bus:new f({wildcard:!0,delimiter:"::"}),isClientSide:!0,namespace:"dashboard",attrPage:"data-page"}},singleton:!0}).define({name:"bus",type:m("bus"),singleton:!0,deps:["app"]}).define({name:"startup",type:function(a,c){var d=function(a,b,c){e.each(c||[],function(c){b[c]=a.resolve({category:c,format:"literal"})})};return d(n,a,["commons","presenters","controllers","wireups"]),a.container=n,a.templates=c,b.app=a,a},deps:["app","templates"]});var o=a("./commons/configure.js");o.configure(n);var p=a("./widget-header/configure.js");p.configure(n);var q=a("./widget-content/configure.js");q.configure(n);var r=a("./widget-footer/configure.js");r.configure(n);var s=a("./widget-info/configure.js");s.configure(n);var t=a("./widget-links/configure.js");t.configure(n);var u=a("./widget-social/configure.js");u.configure(n),"app"in b||(b.app=n.resolve("startup")),"require"in b||(b.require=a),app.bus.on(app.namespace+"::*::loaded",function(a){console.log("loaded: ",a)}),c(function(){var a={id:app.namespace};app.bus.emit(app.namespace+"::routing::init",a,function(){app.bus.emit(app.namespace+"::app::loaded",a)})})}(window,jQuery)},{"../build/templates.js":1,"./commons/configure.js":3,"./widget-content/configure.js":12,"./widget-footer/configure.js":17,"./widget-header/configure.js":21,"./widget-info/configure.js":25,"./widget-links/configure.js":29,"./widget-social/configure.js":33,async:37,director:38,eventemitter2:39,nodeject:44,underscore:45}],3:[function(a,b){!function(b){"use strict";b.exports={configure:function(b,c){c?b.define({name:"ajax",type:a("./js/ajax-server.js").init,category:"commons",deps:["app","window","$","_","http","https"],singleton:!0}).define({name:"routing",type:a("./js/routing-server.js").init,category:"commons",deps:["app","window","$","_","ajax","browser","router","page"],singleton:!0}):b.define({name:"ajax",type:a("./js/ajax-client.js").init,category:"commons",deps:["app","window","$","_","http","https"],singleton:!0}).define({name:"routing",type:a("./js/routing-client.js").init,category:"commons",deps:["app","window","$","_","ajax","browser","router","page"],singleton:!0}),b.define({name:"browser",type:a("./js/browser.js").init,category:"commons",deps:["app","window","$"],singleton:!0}).define({name:"logging",type:a("./js/logging.js").init,category:"commons",deps:["app","_","ajax","browser"],singleton:!0}).define({name:"page",type:a("./js/page.js").init,category:"commons",deps:["app","window","$","_","async","browser"],singleton:!0}).define({name:"utils",type:a("./js/utils.js").init,category:"commons",deps:["app","window","$","_","browser"],singleton:!0})}}}(b)},{"./js/ajax-client.js":4,"./js/ajax-server.js":5,"./js/browser.js":6,"./js/logging.js":7,"./js/page.js":8,"./js/routing-client.js":9,"./js/routing-server.js":10,"./js/utils.js":11}],4:[function(a,b){!function(a){"use strict";a.exports={init:function(a,b,c,d){var e=null,f=function(a,b){c.ajax(d.defaults(a,{headers:{},dataType:"json",cache:!1,success:function(a){b&&"function"==typeof b&&b(null,a)},error:function(a){b&&"function"==typeof b&&b(a,null)}}))};return e={get:function(a,b){f({url:a.url,data:a.data,contentType:a.contentType||"application/json;charset=utf-8",type:"get"},b)},post:function(a,b){f({url:a.url,data:a.data,contentType:a.contentType||"application/x-www-form-urlencoded; charset=UTF-8",type:"post"},b)},"delete":function(a,b){f({url:a.url,data:a.data,contentType:a.contentType||"application/x-www-form-urlencoded; charset=UTF-8",type:"delete"},b)}},c.support.cors=!0,e}}}(b)},{}],5:[function(a,b){!function(a){"use strict";a.exports={init:function(a,b,c,d,e,f){var g=null,h=function(a){return/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},i=function(a,b){var c=443===a.port?f:e;a.hostname||(a.hostname="localhost",a.port=7889),a.url&&!a.path&&(a.path=a.url,delete a.url),a.data&&(a.path=a.path+d.reduce(a.data,function(a,b,c){return a+(d.isNull(b)||d.isUndefined(b)||""===b?"":c+"="+b+"&")},"?"),delete a.data),c.request(a,function(a){var c="";a.on("data",function(a){c+=a}),a.on("end",function(){b&&"function"==typeof b&&(h(c)?b(null,JSON.parse(c)):b({error:{code:"400",message:"returned data not Json format",description:"returned data not Json format"}}))}),a.on("clientError",function(a,b){console.log("emp",a),console.log("dmp",b)})}).on("error",function(a){b&&"function"==typeof b&&b(a,null)}).end()};return g={get:function(a,b){a&&(a.method="GET",i(a,b))},post:function(a,b){a&&(a.method="POST",i(a,b))},put:function(a,b){a&&(a.method="PUT",i(a,b))},"delete":function(a,b){a&&(a.method="DELETE",i(a,b))}}}}}(b)},{}],6:[function(a,b){!function(a){"use strict";a.exports={init:function(a,b,c){var d={},e=function(){var a=null;return b&&b.document&&b.document.documentElement&&(a=c(b.document.documentElement),0===a.length&&(a=c("html"))),a}(),f=function(a){var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}};return function(a){if(b&&b.navigator&&e){var c=f(b.navigator.userAgent.toLowerCase()),d=function(a){var b={};return a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),b}(c),g=function(a,b,c){a[c]=!0,b.addClass(c)};d.msie?(d.version&&g(a,e,"ie"+(+d.version).toString()),g(a,e,"ie")):d.webkit?(g(a,e,"webkit"),d.safari?g(a,e,"safari"):d.chrome&&g(a,e,"chrome")):d.mozilla&&g(a,e,"mozilla")}}(d),function(a){if(b&&b.navigator&&e){var c=b.navigator.platform.toLowerCase();a.os={isWin:-1!==c.indexOf("win"),isMac:-1!==c.indexOf("mac")},a.os.isMac?e.addClass("mac"):a.os.isWin&&e.addClass("win")}}(d),function(a){b&&b.RegExp&&(a.qs=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new b.RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(b.location.search);return null===d?null:decodeURIComponent(d[1].replace(/\+/g," "))})}(d),function(a){b&&(a.media=function(){var a=function(){return"getComputedStyle"in b?b.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/"/g,"").replace(/\'/g,""):"desktop"};return{isMobilePortrait:function(){return"mobilePortrait"===a()},isMobileLandscape:function(){return"mobileLandscape"===a()},isTablet:function(){return"tablet"===a()},isDesktop:function(){return"desktop"===a()},getCurrent:function(){return a()}}}())}(d),function(a){if(b&&b.location&&b.document){var c=function(){return b.location.host.replace("www.","")};a.setCookie=function(a,d,e,f,g){a&&(a=a.toUpperCase());var h=a+"="+d+";";return h+=" path="+(e||"/"),f&&(h+="; expires="+f),h+="; domain="+(g||c()),b.document.cookie=h,!0},a.getCookie=function(a){if(a){a=a.toUpperCase();var c,d,e,f=b.document.cookie.split(";");for(c=0;c<f.length;c++)if(d=f[c].substr(0,f[c].indexOf("=")),e=f[c].substr(f[c].indexOf("=")+1),d=d.replace(/^\s+|\s+$/g,""),d===a)return unescape(e)}return null},a.removeCookie=function(b){return a.setCookie(b,"0",null,new Date(-1))}}}(d),function(a){if(b&&b.navigator&&e){var c=b.navigator.userAgent||b.navigator.vendor||b.opera;a.features={sessionStorage:!!("sessionStorage"in b),mutationObserver:!!("MutationObserver"in b||"WebKitMutationObserver"in b),touchDevice:!!("ontouchstart"in b||b.DocumentTouch&&document instanceof DocumentTouch),html5history:"history"in b&&"pushState"in(b.history||{}),isMobileDevice:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,4))},e.addClass(a.features.sessionStorage?"sessionStorage":"no-sessionStorage").addClass(a.features.touchDevice?"touch":"no-touch").addClass(a.features.html5history?"html5history":"no-html5history").addClass(a.features.isMobileDevice?"mobile":"desktop")}}(d),function(a){b&&b.document&&b.navigator&&(a.getViewPort=function(){var a=b,c=a.document,d=c.documentElement,e=c.getElementsByTagName("body")[0];return{height:a.innerHeight||d.clientHeight||e.clientHeight,width:a.innerWidth||d.clientWidth||e.clientWidth}},a.getInfo=function(){var c=f(b.navigator.userAgent.toLowerCase()),d=a.getViewPort();return{browser:c.browser.toLowerCase(),version:c.version.toLowerCase(),viewPortHeight:d.height,viewPortWidth:d.width,mediaQuery:a.media.getCurrent(),os:b.navigator.platform.toLowerCase(),device:a.features.isMobileDevice?"mobile":"desktop"}})}(d),d}}}(b)},{}],7:[function(a,b){!function(a){"use strict";a.exports={init:function(a,b,c,d){var e={log:function(a,e,f){c.post({url:"/api/error",data:{message:a,data:b.extend(e,{url:window.location.href,browser:"getInfo"in d?d.getInfo():null})}},f)}};return a.bus&&a.bus.on(a.namespace+"::logging::log",function(a,b,c){e.log(a,b,c)}),e}}}(b)},{}],8:[function(a,b){!function(a){"use strict";var b=250;a.exports={init:function(a,c,d,e,f){var g=function(){var a=d(c.document.documentElement);return 0===a.length&&(a=d("html")),a},h={render:function(d,i){c&&c.document&&g().find("#content").hide().end().find("#loader").fadeIn(b);var j=d.routeData;f.parallel({"widget-header":function(b){a.bus.emit(a.namespace+"::widget-header::render",j,b)},"widget-content":function(b){a.bus.emit(a.namespace+"::widget-content::render",j,b)},"widget-footer":function(b){a.bus.emit(a.namespace+"::widget-footer::render",j,b)}},function(c,f){if(d&&d.server&&d.res){var k=d.server,l=d.res,m=a.templates["commons/layout"].render(e.extend({appName:k.get("appName"),env:k.get("env"),pageName:j.pageName,styles:["/css/style.css"],scripts:["/js/script.js","/js/underscore-min.js"]},f));l.set("Content-Type","text/html"),l.send(200,m)}else{var m=g();m.attr(a.attrPage,j.pageName).find("#header").html(f["widget-header"]).end().find("#footer").html(f["widget-footer"]).end().find("#content").html(f["widget-content"]),m.find("#loader").fadeOut(b,function(){m.find("#content").show(),h.wireup()})}a.bus.emit(a.namespace+"::"+j.pageName+"::rendered",d),i&&"function"==typeof i&&i(d)})},renderNotFound:function(){},wireup:function(b,d){if(c&&c.document){var e=g(),h=e.attr(a.attrPage);f.parallel({"widget-header":function(b){a.bus.emit(a.namespace+"::widget-header::wireup",{pageName:h,container:e.find("#header")},function(){}),b(null,"widget-header-wired-up")},"widget-content":function(b){a.bus.emit(a.namespace+"::widget-content::wireup",{pageName:h,container:e.find("#content")},function(){}),b(null,"widget-content-wired-up")},"widget-footer":function(b){a.bus.emit(a.namespace+"::widget-footer::wireup",{pageName:h,container:e.find("#footer")},function(){}),b(null,"widget-footer-wired-up")}},function(){d&&"function"==typeof d&&d(b)})}}};return"bus"in a&&a.bus.on(a.namespace+"::app::loaded",function(a,b){h.wireup(a,b)}),h}}}(b)},{}],9:[function(a,b){!function(a){"use strict";var b="routing",c=function(a){return a.protocol+"//"+a.host};a.exports={init:function(a,d,e,f,g,h,i,j){var k={router:null,init:function(b,c){var f=function(){return"((/)|(\\?.*))?"},g={};g["/"+f()]=function(){var a=function(){j.render({routeData:{pageName:"home"}})};return a}(),g["/(home|index)"+f()]=function(){var a=function(){j.render({routeData:{pageName:"home"}})};return a}(),g["/about"]=function(){var a=function(){j.render({routeData:{pageName:"about"}})};return a}(),g["/contact"]=function(){var a=function(){j.render({routeData:{pageName:"contact"}})};return a}(),k.router=i.Router(g).configure({html5history:h.features.html5history,run_handler_in_init:!1,notfound:function(){j.render({routeData:{pageName:"not-found"}})}}).init();var l=e(d.document.documentElement);0===l.length&&(l=e("html")),l.find("body").off("click.redirect","[redirect]").on("click.redirect","[redirect]",function(b){var c=e(b.currentTarget);return a.bus.emit(a.namespace+"::routing::navigate",c.attr("redirect")),!0}),c&&"function"==typeof c&&c(b)}};return"bus"in a&&(a.bus.on(a.namespace+"::"+b+"::init",function(a,b){k.init(a,b)}),a.bus.on(a.namespace+"::"+b+"::navigate",function(a,b){if(a){var e=c(d.location);0===a.indexOf(e)&&(a=a.replace(e,"")),a.indexOf("http:")>=0||a.indexOf("https:")>=0?setTimeout(function(){d.location=a},250):k.router.setRoute(a)}b&&"function"==typeof b&&b()})),k}}}(b)},{}],10:[function(a,b){!function(a){"use strict";var b="routing";a.exports={init:function(a,c,d,e,f,g,h,i){var j={router:null,init:function(a,b){var c=function(b){return{server:a.server,log:a.log,req:b.req,res:b.res}},d={};d["/"]=function(){var a=function(){i.render(e.extend({},{routeData:{pageName:"home"}},c(this)))};return{get:a}}(),d["/(home|index)"]=function(){var a=function(){i.render(e.extend({routeData:{pageName:"home"}},c(this)))};return{get:a}}(),d["/about"]=function(){var a=function(){i.render(e.extend({routeData:{pageName:"about"}},c(this)))};return{get:a}}(),d["/contact"]=function(){var a=function(){i.render(e.extend({routeData:{pageName:"contact"}},c(this)))};return{get:a}}(),d["/api"]={"/terms":{get:function(){var a=this,b=(a.req.query.id||"").trim(),c=(a.req.query.pageName||"").trim(),d={};"widget-header"===b?d={title:"SPA Sushi"}:"widget-content"===b?d={termGoBack:"<< Go back"}:"widget-footer"===b?d={text:"&copy; 2013 Alexandr Marinenko"}:"widget-links"===b?d={items:[{page:"home",name:"Home"},{page:"about",name:"About"},{page:"contact",name:"Contact"}]}:"widget-info"===b&&("about"===c?d={text:'You\'re on <span class="highlight js-highlight">About</span> page.'}:"contact"===c&&(d={text:'You\'re on <span class="highlight js-highlight">Contact</span> page.'})),a.res.set("Content-Type","application/json"),a.res.json(200,d)}}},j.router=new h.http.Router(d),a.server.use(function(a,b){j.router.dispatch(a,b,function(a){a&&i.render(e.extend({routeData:{pageName:"not-found"}},c(this)))})}),b&&"function"==typeof b&&b(a)}};return"bus"in a&&a.bus.on(a.namespace+"::"+b+"::init",function(a,b){j.init(a,b)}),j}}}(b)},{}],11:[function(a,b){!function(a){"use strict";a.exports={init:function(a,b,c,d,e){b||(b={}),!b.JSON&&JSON&&(b.JSON=JSON),!b.Math&&Math&&(b.Math=Math),!b.RegExp&&RegExp&&(b.RegExp=RegExp);var f={deepCopy:function(a){return b.JSON.parse(b.JSON.stringify(a)||"null")},deepExtend:function(a,b){if(!a)return null;if(!b)return a;if("object"==typeof b)if(b)for(var c in b){var d=a[c],e=b[c];d&&e&&"object"==typeof e?f.deepExtend(d,e):a[c]=e}else a=b;else a=b;return a},removeProperty:function(a,b){if(a[b]){var c=d.extend({},a);return delete c[b],c}return a},simplifyObject:function(a,b){if(!a)return null;var c={};for(var d in a)"object"==typeof a[d]?b&&(c[d]=f.simplifyObject(a[d],!1)):"function"!=typeof a[d]&&"unknown"!=typeof a[d]&&(c[d]=a[d]);return c},parseNumber:function(a){return a?+(a.match(/-{0,1}\d+(\.\d+)?/g)||[0])[0]:0},generateGuid:function(){var a=function(){return(65536*(1+b.Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},isInputEmpty:function(a){return a.removeClass("error"),""===a.val()?(a.addClass("error"),!1):!0},isInputEmailValid:function(a){return a.removeClass("error"),f.validateEmail(a.val())?!0:(a.addClass("error"),!1)},validateEmail:function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},loadScript:function(a,c,d){if(b&&b.document){var f=!e.ie8&&!e.ie9,g=b.document.createElement("script");if(g.src=a,g.type="text/javascript",d&&g.setAttribute("id",d),f){g.async="true";var h=function(){var a=this.readyState;a&&"complete"!=a&&"loaded"!=a||c&&"function"==typeof c&&c()};g.addEventListener?g.addEventListener("load",h,!1):g.readyState&&(g.onreadystatechange=h)}var i=b.document.getElementsByTagName("script")[0];i.parentNode.insertBefore(g,i),f||c&&"function"==typeof c&&c()}},placeScript:function(a,c,d){if(b&&b.document){var f=!e.ie8&&!e.ie9,g=b.document.createElement("script");if(g.innerHTML=a,g.type="text/javascript",d&&g.setAttribute("id",d),f){g.async="true";var h=function(){var a=this.readyState;a&&"complete"!=a&&"loaded"!=a||c&&"function"==typeof c&&c()};g.addEventListener?g.addEventListener("load",h,!1):g.readyState&&(g.onreadystatechange=h)}var i=b.document.getElementsByTagName("script")[0];i.parentNode.insertBefore(g,i),f||c&&"function"==typeof c&&c()}},isScriptOnPage:function(a){return b&&b.document?d.chain(b.document.getElementsByTagName("script")).map(function(a){return a.getAttribute("src")||""}).filter(function(b){return b.indexOf(a)>=0}).value().length>0:!1},isRegExTrue:function(a,c){return new b.RegExp(c).test(a)}};return f}}}(b)},{}],12:[function(a,b){!function(b){"use strict";b.exports={configure:function(b){b.define({name:"widgetContentController",type:a("./js/controller.js").init,category:"controllers",deps:["app","window","$","_","ajax"],singleton:!0}).define({name:"widgetContentPresenter",type:a("./js/presenter.js").init,category:"presenters",deps:["app","window","$","_","async","widgetContentStructure"],singleton:!0}).define({name:"widgetContentStructure",type:a("./js/structure.js").init,category:"controllers",deps:[],singleton:!0}).define({name:"widgetContentWireup",type:a("./js/wireup.js").init,category:"wireups",deps:["app","window","$","_","async","widgetContentStructure"],singleton:!0})}}}(b)},{"./js/controller.js":13,"./js/presenter.js":14,"./js/structure.js":15,"./js/wireup.js":16}],13:[function(a,b){!function(a){"use strict";var b="widget-content";a.exports={init:function(a,c,d,e,f){var g={get:function(a,b){f.get({url:"/api/terms",data:a},function(a,c){b&&"function"==typeof b&&b(a,c)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::get",function(a,b){g.get(a,b)}),g}}}(b)},{}],14:[function(a,b){!function(a){"use strict";var b="widget-content";a.exports={init:function(a,c,d,e,f,g){var h={render:function(c,d){a.bus.emit(a.namespace+"::"+b+"::get",c,function(h,i){var j=function(b){return e.reduce(b,function(b,d){return b[d.id]=function(b){a.bus.emit(a.namespace+"::"+d.id+"::render",c,b)},b},{})},k=function(f,g){var h=a.templates[b+"/"+c.pageName],j=h?h.render(e.extend(i,g)):"";a.bus.emit(a.namespace+"::"+b+"::loaded",j),d&&"function"==typeof d&&d(null,j)};g[c.pageName]?f.parallel(j(g[c.pageName]),k):k(null,{})})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::render",function(a,c){h.render(e.extend(a,{id:b}),c)}),h}}}(b)},{}],15:[function(a,b){!function(a){"use strict";a.exports={init:function(){return{home:[{id:"widget-links",container:".links-container"}],about:[{id:"widget-info",container:".info-container"}],contact:[{id:"widget-info",container:".info-container"},{id:"widget-social",container:".social-container"}]}}}}(b)},{}],16:[function(a,b){!function(a){"use strict";var b="widget-content";a.exports={init:function(a,c,d,e,f,g){var h=function(b,c){var d=function(c){return e.reduce(c,function(c,d){return c[d.id]=function(c){a.bus.emit(a.namespace+"::"+d.id+"::wireup",e.extend({},b,{container:b.container.find(d.container)}),c)},c},{})},h=function(){c&&"function"==typeof c&&c(null,b)};g[b.pageName]?f.parallel(d(g[b.pageName]),h):h(null,b)};return a.bus&&a.bus.on(a.namespace+"::"+b+"::wireup",function(a,b){h(a,b)}),h}}}(b)},{}],17:[function(a,b){!function(b){"use strict";b.exports={configure:function(b){b.define({name:"widgetFooterController",type:a("./js/controller.js").init,category:"controllers",deps:["app","window","$","_","ajax"],singleton:!0}).define({name:"widgetFooterPresenter",type:a("./js/presenter.js").init,category:"presenters",deps:["app","window","$","_"],singleton:!0}).define({name:"widgetFooterWireup",type:a("./js/wireup.js").init,category:"wireups",deps:["app","window","$","_"],singleton:!0})}}}(b)},{"./js/controller.js":18,"./js/presenter.js":19,"./js/wireup.js":20}],18:[function(a,b){!function(a){"use strict";var b="widget-footer";a.exports={init:function(a,c,d,e,f){var g={get:function(a,b){f.get({url:"/api/terms",data:a},function(a,c){b&&"function"==typeof b&&b(a,c)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::get",function(a,b){g.get(a,b)}),g}}}(b)},{}],19:[function(a,b){!function(a){"use strict";var b="widget-footer";a.exports={init:function(a,c,d,e){var f={render:function(c,d){a.bus.emit(a.namespace+"::"+b+"::get",c,function(c,e){var f=a.templates[b+"/main"].render(e);a.bus.emit(a.namespace+"::"+b+"::loaded",f),d&&"function"==typeof d&&d(null,f)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::render",function(a,c){f.render(e.extend(a,{id:b}),c)}),f}}}(b)},{}],20:[function(a,b){!function(a){"use strict";var b="widget-footer";a.exports={init:function(a){var c=function(a,b){b&&"function"==typeof b&&b(null,a)};return a.bus&&a.bus.on(a.namespace+"::"+b+"::wireup",function(a,b){c(a,b)}),c}}}(b)},{}],21:[function(a,b){!function(b){"use strict";b.exports={configure:function(b){b.define({name:"widgetHeaderController",type:a("./js/controller.js").init,category:"controllers",deps:["app","window","$","_","ajax"],singleton:!0}).define({name:"widgetHeaderPresenter",type:a("./js/presenter.js").init,category:"presenters",deps:["app","window","$","_"],singleton:!0}).define({name:"widgetHeaderWireup",type:a("./js/wireup.js").init,category:"wireups",deps:["app","window","$","_"],singleton:!0})}}}(b)},{"./js/controller.js":22,"./js/presenter.js":23,"./js/wireup.js":24}],22:[function(a,b){!function(a){"use strict";var b="widget-header";a.exports={init:function(a,c,d,e,f){var g={get:function(a,b){f.get({url:"/api/terms",data:a},function(a,c){b&&"function"==typeof b&&b(a,c)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::get",function(a,b){g.get(a,b)}),g}}}(b)},{}],23:[function(a,b){!function(a){"use strict";var b="widget-header";a.exports={init:function(a,c,d,e){var f={render:function(c,d){a.bus.emit(a.namespace+"::"+b+"::get",c,function(c,e){var f=a.templates[b+"/main"].render(e);a.bus.emit(a.namespace+"::"+b+"::loaded",f),d&&"function"==typeof d&&d(null,f)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::render",function(a,c){f.render(e.extend(a,{id:b}),c)}),f}}}(b)},{}],24:[function(a,b){!function(a){"use strict";var b="widget-header";a.exports={init:function(a){var c=function(a,b){b&&"function"==typeof b&&b(null,a)};return a.bus&&a.bus.on(a.namespace+"::"+b+"::wireup",function(a,b){c(a,b)}),c}}}(b)},{}],25:[function(a,b){!function(b){"use strict";b.exports={configure:function(b){b.define({name:"widgetInfoController",type:a("./js/controller.js").init,category:"controllers",deps:["app","window","$","_","ajax"],singleton:!0}).define({name:"widgetInfoPresenter",type:a("./js/presenter.js").init,category:"presenters",deps:["app","window","$","_"],singleton:!0}).define({name:"widgetInfoWireup",type:a("./js/wireup.js").init,category:"wireups",deps:["app","window","$","_"],singleton:!0})}}}(b)},{"./js/controller.js":26,"./js/presenter.js":27,"./js/wireup.js":28}],26:[function(a,b){!function(a){"use strict";var b="widget-info";a.exports={init:function(a,c,d,e,f){var g={get:function(a,b){f.get({url:"/api/terms",data:a},function(a,c){b&&"function"==typeof b&&b(a,c)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::get",function(a,b){g.get(a,b)}),g}}}(b)},{}],27:[function(a,b){!function(a){"use strict";var b="widget-info";a.exports={init:function(a,c,d,e){var f={render:function(c,d){a.bus.emit(a.namespace+"::"+b+"::get",{id:c.id,pageName:c.pageName},function(f,g){var h=a.templates[b+"/main"].render(e.extend({},c,g));a.bus.emit(a.namespace+"::"+b+"::loaded",h),d&&"function"==typeof d&&d(null,h)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::render",function(a,c){f.render(e.extend(a,{id:b}),c)}),f}}}(b)},{}],28:[function(a,b){!function(a){"use strict";var b="widget-info";a.exports={init:function(a,c,d){var e=function(a,c){var e=a.container;e.off("click."+b,".js-highlight").on("click."+b,".js-highlight",function(a){d(a.currentTarget).toggleClass("clicked");return!0}),c&&"function"==typeof c&&c(null,a)};return a.bus&&a.bus.on(a.namespace+"::"+b+"::wireup",function(a,b){e(a,b)}),e}}}(b)},{}],29:[function(a,b){!function(b){"use strict";b.exports={configure:function(b){b.define({name:"widgetLinksController",type:a("./js/controller.js").init,category:"controllers",deps:["app","window","$","_","ajax"],singleton:!0}).define({name:"widgetLinksPresenter",type:a("./js/presenter.js").init,category:"presenters",deps:["app","window","$","_"],singleton:!0}).define({name:"widgetLinksWireup",type:a("./js/wireup.js").init,category:"wireups",deps:["app","window","$","_"],singleton:!0})}}}(b)},{"./js/controller.js":30,"./js/presenter.js":31,"./js/wireup.js":32}],30:[function(a,b){!function(a){"use strict";var b="widget-links";a.exports={init:function(a,c,d,e,f){var g={get:function(a,b){f.get({url:"/api/terms",data:a},function(a,c){b&&"function"==typeof b&&b(a,c)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::get",function(a,b){g.get(a,b)}),g}}}(b)},{}],31:[function(a,b){!function(a){"use strict";var b="widget-links";a.exports={init:function(a,c,d,e){var f={render:function(c,d){a.bus.emit(a.namespace+"::"+b+"::get",{id:c.id},function(f,g){var h=a.templates[b+"/main"].render(e.extend({},c,g));a.bus.emit(a.namespace+"::"+b+"::loaded",h),d&&"function"==typeof d&&d(null,h)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::render",function(a,c){f.render(e.extend(a,{id:b}),c)}),f}}}(b)},{}],32:[function(a,b){!function(a){"use strict";var b="widget-links";
a.exports={init:function(a){var c=function(a,b){a.container;b&&"function"==typeof b&&b(null,a)};return a.bus&&a.bus.on(a.namespace+"::"+b+"::wireup",function(a,b){c(a,b)}),c}}}(b)},{}],33:[function(a,b){!function(b){"use strict";b.exports={configure:function(b){b.define({name:"widgetSocialController",type:a("./js/controller.js").init,category:"controllers",deps:["app","window","$","_","ajax"],singleton:!0}).define({name:"widgetSocialPresenter",type:a("./js/presenter.js").init,category:"presenters",deps:["app","window","$","_"],singleton:!0}).define({name:"widgetSocialWireup",type:a("./js/wireup.js").init,category:"wireups",deps:["app","window","$","_"],singleton:!0})}}}(b)},{"./js/controller.js":34,"./js/presenter.js":35,"./js/wireup.js":36}],34:[function(a,b){!function(a){"use strict";var b="widget-social";a.exports={init:function(a,c,d,e,f){var g={get:function(a,b){f.get({url:"/api/terms",data:a},function(a,c){b&&"function"==typeof b&&b(a,c)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::get",function(a,b){g.get(a,b)}),g}}}(b)},{}],35:[function(a,b){!function(a){"use strict";var b="widget-social";a.exports={init:function(a,c,d,e){var f={render:function(c,d){a.bus.emit(a.namespace+"::"+b+"::get",{id:c.id},function(f,g){var h=a.templates[b+"/main"].render(e.extend({},c,g));a.bus.emit(a.namespace+"::"+b+"::loaded",h),d&&"function"==typeof d&&d(null,h)})}};return a.bus&&a.bus.on(a.namespace+"::"+b+"::render",function(a,c){f.render(e.extend(a,{id:b}),c)}),f}}}(b)},{}],36:[function(a,b){!function(a){"use strict";var b="widget-social";a.exports={init:function(a){var c=function(a,b){a.container;b&&"function"==typeof b&&b(null,a)};return a.bus&&a.bus.on(a.namespace+"::"+b+"::wireup",function(a,b){c(a,b)}),c}}}(b)},{}],37:[function(a,b){var c=a("__browserify_process");!function(){function a(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(d,arguments)}}var d,e,f={};d=this,null!=d&&(e=d.async),f.noConflict=function(){return d.async=e,f};var g=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},h=function(a,b){if(a.map)return a.map(b);var c=[];return g(a,function(a,d,e){c.push(b(a,d,e))}),c},i=function(a,b,c){return a.reduce?a.reduce(b,c):(g(a,function(a,d,e){c=b(c,a,d,e)}),c)},j=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof c&&c.nextTick?(f.nextTick=c.nextTick,f.setImmediate="undefined"!=typeof setImmediate?setImmediate:f.nextTick):"function"==typeof setImmediate?(f.nextTick=function(a){setImmediate(a)},f.setImmediate=f.nextTick):(f.nextTick=function(a){setTimeout(a,0)},f.setImmediate=f.nextTick),f.each=function(b,c,d){if(d=d||function(){},!b.length)return d();var e=0;g(b,function(f){c(f,a(function(a){a?(d(a),d=function(){}):(e+=1,e>=b.length&&d(null))}))})},f.forEach=f.each,f.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()},f.forEachSeries=f.eachSeries,f.eachLimit=function(a,b,c,d){var e=k(b);e.apply(null,[a,c,d])},f.forEachLimit=f.eachLimit;var k=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},l=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.each].concat(b))}},m=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},n=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.eachSeries].concat(b))}},o=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})};f.map=l(o),f.mapSeries=n(o),f.mapLimit=function(a,b,c,d){return p(b)(a,c,d)};var p=function(a){return m(a,o)};f.reduce=function(a,b,c,d){f.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},f.inject=f.reduce,f.foldl=f.reduce,f.reduceRight=function(a,b,c,d){var e=h(a,function(a){return a}).reverse();f.reduce(e,b,c,d)},f.foldr=f.reduceRight;var q=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.filter=l(q),f.filterSeries=n(q),f.select=f.filter,f.selectSeries=f.filterSeries;var r=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.reject=l(r),f.rejectSeries=n(r);var s=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})};f.detect=l(s),f.detectSeries=n(s),f.some=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(){c(!1)})},f.any=f.some,f.every=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(){c(!0)})},f.all=f.every,f.sortBy=function(a,b,c){f.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,h(b.sort(d),function(a){return a.value}))})},f.auto=function(a,b){b=b||function(){};var c=j(a);if(!c.length)return b(null);var d={},e=[],h=function(a){e.unshift(a)},k=function(a){for(var b=0;b<e.length;b+=1)if(e[b]===a)return e.splice(b,1),void 0},l=function(){g(e.slice(0),function(a){a()})};h(function(){j(d).length===c.length&&(b(null,d),b=function(){})}),g(c,function(c){var e=a[c]instanceof Function?[a[c]]:a[c],m=function(a){var e=Array.prototype.slice.call(arguments,1);if(e.length<=1&&(e=e[0]),a){var h={};g(j(d),function(a){h[a]=d[a]}),h[c]=e,b(a,h),b=function(){}}else d[c]=e,f.setImmediate(l)},n=e.slice(0,Math.abs(e.length-1))||[],o=function(){return i(n,function(a,b){return a&&d.hasOwnProperty(b)},!0)&&!d.hasOwnProperty(c)};if(o())e[e.length-1](m,d);else{var p=function(){o()&&(k(p),e[e.length-1](m,d))};h(p)}})},f.waterfall=function(a,b){if(b=b||function(){},a.constructor!==Array){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();g?e.push(d(g)):e.push(b),f.setImmediate(function(){a.apply(null,e)})}}};d(f.iterator(a))()};var t=function(a,b,c){if(c=c||function(){},b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(j(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};f.parallel=function(a,b){t({map:f.map,each:f.each},a,b)},f.parallelLimit=function(a,b,c){t({map:p(b),each:k(b)},a,c)},f.series=function(a,b){if(b=b||function(){},a.constructor===Array)f.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};f.eachSeries(j(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},f.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},f.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var u=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};f.concat=l(u),f.concatSeries=n(u),f.whilst=function(a,b,c){a()?b(function(d){return d?c(d):(f.whilst(a,b,c),void 0)}):c()},f.doWhilst=function(a,b,c){a(function(d){return d?c(d):(b()?f.doWhilst(a,b,c):c(),void 0)})},f.until=function(a,b,c){a()?c():b(function(d){return d?c(d):(f.until(a,b,c),void 0)})},f.doUntil=function(a,b,c){a(function(d){return d?c(d):(b()?c():f.doUntil(a,b,c),void 0)})},f.queue=function(b,c){function d(a,b,d,e){b.constructor!==Array&&(b=[b]),g(b,function(b){var g={data:b,callback:"function"==typeof e?e:null};d?a.tasks.unshift(g):a.tasks.push(g),a.saturated&&a.tasks.length===c&&a.saturated(),f.setImmediate(a.process)})}void 0===c&&(c=1);var e=0,h={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,push:function(a,b){d(h,a,!1,b)},unshift:function(a,b){d(h,a,!0,b)},process:function(){if(e<h.concurrency&&h.tasks.length){var c=h.tasks.shift();h.empty&&0===h.tasks.length&&h.empty(),e+=1;var d=function(){e-=1,c.callback&&c.callback.apply(c,arguments),h.drain&&h.tasks.length+e===0&&h.drain(),h.process()},f=a(d);b(c.data,f)}},length:function(){return h.tasks.length},running:function(){return e}};return h},f.cargo=function(a,b){var c=!1,d=[],e={tasks:d,payload:b,saturated:null,empty:null,drain:null,push:function(a,c){a.constructor!==Array&&(a=[a]),g(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.saturated&&d.length===b&&e.saturated()}),f.setImmediate(e.process)},process:function i(){if(!c){if(0===d.length)return e.drain&&e.drain(),void 0;var f="number"==typeof b?d.splice(0,b):d.splice(0),j=h(f,function(a){return a.data});e.empty&&e.empty(),c=!0,a(j,function(){c=!1;var a=arguments;g(f,function(b){b.callback&&b.callback.apply(null,a)}),i()})}},length:function(){return d.length},running:function(){return c}};return e};var v=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&g(c,function(b){console[a](b)}))}]))}};f.log=v("log"),f.dir=v("dir"),f.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},f.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},f.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.map(d,b,c)},f.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.mapSeries(d,b,c)},f.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();f.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};var w=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};f.applyEach=l(w),f.applyEachSeries=n(w),f.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof define&&define.amd?define([],function(){return f}):"undefined"!=typeof b&&b.exports?b.exports=f:d.async=f}()},{__browserify_process:40}],38:[function(a,b,c){!function(a){function b(){return""===i.hash||"#"===i.hash}function c(a,b){for(var c=0;c<a.length;c+=1)if(b(a[c],c,a)===!1)return}function d(a){for(var b=[],c=0,d=a.length;d>c;c++)b=b.concat(a[c]);return b}function e(a,b,c){if(!a.length)return c();var d=0;!function e(){b(a[d],function(b){b||b===!1?(c(b),c=function(){}):(d+=1,d===a.length?c():e())})}()}function f(a,b,c){c=a;for(var d in b)if(b.hasOwnProperty(d)&&(c=b[d](a),c!==a))break;return c===a?"([._a-zA-Z0-9-]+)":c}function g(a,b){for(var c,d=0,e="";c=a.substr(d).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)d=c.index+c[0].length,c[0]=c[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),e+=a.substr(0,c.index)+c[0];a=e+=a.substr(d);var g,h,i=a.match(/:([^\/]+)/gi);if(i){h=i.length;for(var j=0;h>j;j++)g=i[j],a="::"===g.slice(0,2)?g.slice(1):a.replace(g,f(g,b))}return a}function h(a,b,c,d){var e,f=0,g=0,h=0,c=(c||"(").toString(),d=(d||")").toString();for(e=0;e<a.length;e++){var i=a[e];if(i.indexOf(c,f)>i.indexOf(d,f)||~i.indexOf(c,f)&&!~i.indexOf(d,f)||!~i.indexOf(c,f)&&~i.indexOf(d,f)){if(g=i.indexOf(c,f),h=i.indexOf(d,f),~g&&!~h||!~g&&~h){var j=a.slice(0,(e||1)+1).join(b);a=[j].concat(a.slice((e||1)+1))}f=(h>g?h:g)+1,e=0}else f=0}return a}Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c,d=[],e=0,f=this.length;f>e;e++)e in this&&a.call(b,c=this[e],e,this)&&d.push(c);return d}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});var i=document.location,j={mode:"modern",hash:i.hash,history:!1,check:function(){var a=i.hash;a!=this.hash&&(this.hash=a,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(a,b){function c(a){for(var b=0,c=k.listeners.length;c>b;b++)k.listeners[b](a)}var d=this;if(this.history=b,k.listeners||(k.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=c},500):window.onhashchange=c,this.mode="modern";else{var e=document.createElement("iframe");e.id="state-frame",e.style.display="none",document.body.appendChild(e),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&d.check()}),window.setInterval(function(){d.check()},50),this.onHashChanged=c,this.mode="legacy"}return k.listeners.push(a),this.mode},destroy:function(a){if(k&&k.listeners)for(var b=k.listeners,c=b.length-1;c>=0;c--)b[c]===a&&b.splice(c,1)},setHash:function(a){return"legacy"===this.mode&&this.writeFrame(a),this.history===!0?(window.history.pushState({},document.title,a),this.fire()):i.hash="/"===a[0]?a:"/"+a,this},writeFrame:function(a){var b=document.getElementById("state-frame"),c=b.contentDocument||b.contentWindow.document;c.open(),c.write("<script>_hash = '"+a+"'; onload = parent.listener.syncHash;<script>"),c.close()},syncHash:function(){var a=this._hash;return a!=i.hash&&(i.hash=a),this},onHashChanged:function(){}},k=a.Router=function(a){return this instanceof k?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(a||{}),void 0):new k(a)};k.prototype.init=function(a){var c=this;if(this.handler=function(a){var b=a&&a.newURL||window.location.hash,d=c.history===!0?c.getPath():b.replace(/.*#/,"");c.dispatch("on","/"===d.charAt(0)?d:"/"+d)},j.init(this.handler,this.history),this.history===!1)b()&&a?i.hash=a:b()||c.dispatch("on","/"+i.hash.replace(/^(#\/|#|\/)/,""));else{var d=b()&&a?a:b()?null:i.hash.replace(/^#/,"");d&&window.history.replaceState({},document.title,d),(d||this.run_in_init===!0)&&this.handler()}return this},k.prototype.explode=function(){var a=this.history===!0?this.getPath():i.hash;return"/"===a.charAt(1)&&(a=a.slice(1)),a.slice(1,a.length).split("/")},k.prototype.setRoute=function(a,b,c){var d=this.explode();return"number"==typeof a&&"string"==typeof b?d[a]=b:"string"==typeof c?d.splice(a,b,s):d=[a],j.setHash(d.join("/")),d},k.prototype.insertEx=function(a,b,c,d){return"once"===a&&(a="on",c=function(a){var b=!1;return function(){return b?void 0:(b=!0,a.apply(this,arguments))}}(c)),this._insert(a,b,c,d)},k.prototype.getRoute=function(a){var b=a;if("number"==typeof a)b=this.explode()[a];else if("string"==typeof a){var c=this.explode();b=c.indexOf(a)}else b=this.explode();return b},k.prototype.destroy=function(){return j.destroy(this.handler),this},k.prototype.getPath=function(){var a=window.location.pathname;return"/"!==a.substr(0,1)&&(a="/"+a),a},k.prototype.configure=function(a){a=a||{};for(var b=0;b<this.methods.length;b++)this._methods[this.methods[b]]=!0;return this.recurse=a.recurse||this.recurse||!1,this.async=a.async||!1,this.delimiter=a.delimiter||"/",this.strict="undefined"==typeof a.strict?!0:a.strict,this.notfound=a.notfound,this.resource=a.resource,this.history=a.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&a.run_handler_in_init!==!1,this.every={after:a.after||null,before:a.before||null,on:a.on||null},this},k.prototype.param=function(a,b){":"!==a[0]&&(a=":"+a);var c=new RegExp(a,"g");this.params[a]=function(a){return a.replace(c,b.source||b)}},k.prototype.on=k.prototype.route=function(a,b,c){var d=this;return c||"function"!=typeof b||(c=b,b=a,a="on"),Array.isArray(b)?b.forEach(function(b){d.on(a,b,c)}):(b.source&&(b=b.source.replace(/\\\//gi,"/")),Array.isArray(a)?a.forEach(function(a){d.on(a.toLowerCase(),b,c)}):(b=b.split(new RegExp(this.delimiter)),b=h(b,this.delimiter),this.insert(a,this.scope.concat(b),c),void 0))},k.prototype.dispatch=function(a,b,c){function d(){f.last=g.after,f.invoke(f.runlist(g),f,c)}var e,f=this,g=this.traverse(a,b,this.routes,""),h=this._invoked;return this._invoked=!0,g&&0!==g.length?("forward"===this.recurse&&(g=g.reverse()),e=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],e&&e.length>0&&h?(this.async?this.invoke(e,this,d):(this.invoke(e,this),d()),!0):(d(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:a,path:b},c),!1)},k.prototype.invoke=function(a,b,d){var f,g=this;this.async?(f=function(c,d){return Array.isArray(c)?e(c,f,d):("function"==typeof c&&c.apply(b,a.captures.concat(d)),void 0)},e(a,f,function(){d&&d.apply(b,arguments)})):(f=function(d){return Array.isArray(d)?c(d,f):"function"==typeof d?d.apply(b,a.captures||[]):("string"==typeof d&&g.resource&&g.resource[d].apply(b,a.captures||[]),void 0)},c(a,f))},k.prototype.traverse=function(a,b,c,d,e){function f(a){function b(a){for(var c=[],d=0;d<a.length;d++)c[d]=Array.isArray(a[d])?b(a[d]):a[d];return c}function c(a){for(var b=a.length-1;b>=0;b--)Array.isArray(a[b])?(c(a[b]),0===a[b].length&&a.splice(b,1)):e(a[b])||a.splice(b,1)}if(!e)return a;var d=b(a);return d.matched=a.matched,d.captures=a.captures,d.after=a.after.filter(e),c(d),d}var g,h,i,j,k=[];if(b===this.delimiter&&c[a])return j=[[c.before,c[a]].filter(Boolean)],j.after=[c.after].filter(Boolean),j.matched=!0,j.captures=[],f(j);for(var l in c)if(c.hasOwnProperty(l)&&(!this._methods[l]||this._methods[l]&&"object"==typeof c[l]&&!Array.isArray(c[l]))){if(g=h=d+this.delimiter+l,this.strict||(h+="["+this.delimiter+"]?"),i=b.match(new RegExp("^"+h)),!i)continue;if(i[0]&&i[0]==b&&c[l][a])return j=[[c[l].before,c[l][a]].filter(Boolean)],j.after=[c[l].after].filter(Boolean),j.matched=!0,j.captures=i.slice(1),this.recurse&&c===this.routes&&(j.push([c.before,c.on].filter(Boolean)),j.after=j.after.concat([c.after].filter(Boolean))),f(j);if(j=this.traverse(a,b,c[l],g),j.matched)return j.length>0&&(k=k.concat(j)),this.recurse&&(k.push([c[l].before,c[l].on].filter(Boolean)),j.after=j.after.concat([c[l].after].filter(Boolean)),c===this.routes&&(k.push([c.before,c.on].filter(Boolean)),j.after=j.after.concat([c.after].filter(Boolean)))),k.matched=!0,k.captures=j.captures,k.after=j.after,f(k)}return!1},k.prototype.insert=function(a,b,c,d){var e,f,h,i,j;if(b=b.filter(function(a){return a&&a.length>0}),d=d||this.routes,j=b.shift(),/\:|\*/.test(j)&&!/\\d|\\w/.test(j)&&(j=g(j,this.params)),b.length>0)return d[j]=d[j]||{},this.insert(a,b,c,d[j]);if(j||b.length||d!==this.routes){if(f=typeof d[j],h=Array.isArray(d[j]),d[j]&&!h&&"object"==f)switch(e=typeof d[j][a]){case"function":return d[j][a]=[d[j][a],c],void 0;case"object":return d[j][a].push(c),void 0;case"undefined":return d[j][a]=c,void 0}else if("undefined"==f)return i={},i[a]=c,d[j]=i,void 0;throw new Error("Invalid route context: "+f)}switch(e=typeof d[a]){case"function":return d[a]=[d[a],c],void 0;case"object":return d[a].push(c),void 0;case"undefined":return d[a]=c,void 0}},k.prototype.extend=function(a){function b(a){d._methods[a]=!0,d[a]=function(){var b=1===arguments.length?[a,""]:[a];d.on.apply(d,b.concat(Array.prototype.slice.call(arguments)))}}var c,d=this,e=a.length;for(c=0;e>c;c++)b(a[c])},k.prototype.runlist=function(a){var b=this.every&&this.every.before?[this.every.before].concat(d(a)):d(a);return this.every&&this.every.on&&b.push(this.every.on),b.captures=a.captures,b.source=a.source,b},k.prototype.mount=function(a,b){function c(b,c){var e=b,f=b.split(d.delimiter),g=typeof a[b],i=""===f[0]||!d._methods[f[0]],j=i?"on":e;return i&&(e=e.slice((e.match(new RegExp("^"+d.delimiter))||[""])[0].length),f.shift()),i&&"object"===g&&!Array.isArray(a[b])?(c=c.concat(f),d.mount(a[b],c),void 0):(i&&(c=c.concat(e.split(d.delimiter)),c=h(c,d.delimiter)),d.insert(j,c,a[b]),void 0)}if(a&&"object"==typeof a&&!Array.isArray(a)){var d=this;b=b||[],Array.isArray(b)||(b=b.split(d.delimiter));for(var e in a)a.hasOwnProperty(e)&&c(e,b.slice(0))}}}("object"==typeof c?c:window)},{}],39:[function(a,b,c){var d=a("__browserify_process");!function(a){function b(){this._events={},this._conf&&c.call(this,this._conf)}function c(a){a&&(this._conf=a,a.delimiter&&(this.delimiter=a.delimiter),a.maxListeners&&(this._events.maxListeners=a.maxListeners),a.wildcard&&(this.wildcard=a.wildcard),a.newListener&&(this.newListener=a.newListener),this.wildcard&&(this.listenerTree={}))}function d(a){this._events={},this.newListener=!1,c.call(this,a)}function e(a,b,c,d){if(!c)return[];var f,g,h,i,j,k,l,m=[],n=b.length,o=b[d],p=b[d+1];if(d===n&&c._listeners){if("function"==typeof c._listeners)return a&&a.push(c._listeners),[c];for(f=0,g=c._listeners.length;g>f;f++)a&&a.push(c._listeners[f]);return[c]}if("*"===o||"**"===o||c[o]){if("*"===o){for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&(m=m.concat(e(a,b,c[h],d+1)));return m}if("**"===o){l=d+1===n||d+2===n&&"*"===p,l&&c._listeners&&(m=m.concat(e(a,b,c,n)));for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&("*"===h||"**"===h?(c[h]._listeners&&!l&&(m=m.concat(e(a,b,c[h],n))),m=m.concat(e(a,b,c[h],d))):m=h===p?m.concat(e(a,b,c[h],d+2)):m.concat(e(a,b,c[h],d)));return m}m=m.concat(e(a,b,c[o],d+1))}if(i=c["*"],i&&e(a,b,i,d+1),j=c["**"])if(n>d){j._listeners&&e(a,b,j,n);for(h in j)"_listeners"!==h&&j.hasOwnProperty(h)&&(h===p?e(a,b,j[h],d+2):h===o?e(a,b,j[h],d+1):(k={},k[h]=j[h],e(a,b,{"**":k},d+1)))}else j._listeners?e(a,b,j,n):j["*"]&&j["*"]._listeners&&e(a,b,j["*"],n);return m}function f(a,b){a="string"==typeof a?a.split(this.delimiter):a.slice();for(var c=0,d=a.length;d>c+1;c++)if("**"===a[c]&&"**"===a[c+1])return;for(var e=this.listenerTree,f=a.shift();f;){if(e[f]||(e[f]={}),e=e[f],0===a.length){if(e._listeners){if("function"==typeof e._listeners)e._listeners=[e._listeners,b];else if(g(e._listeners)&&(e._listeners.push(b),!e._listeners.warned)){var i=h;"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&e._listeners.length>i&&(e._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",e._listeners.length),console.trace())}}else e._listeners=b;return!0}f=a.shift()}return!0}var g=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=10;d.prototype.delimiter=".",d.prototype.setMaxListeners=function(a){this._events||b.call(this),this._events.maxListeners=a,this._conf||(this._conf={}),this._conf.maxListeners=a},d.prototype.event="",d.prototype.once=function(a,b){return this.many(a,1,b),this},d.prototype.many=function(a,b,c){function d(){0===--b&&e.off(a,d),c.apply(this,arguments)}var e=this;if("function"!=typeof c)throw new Error("many only accepts instances of Function");return d._origin=c,this.on(a,d),e},d.prototype.emit=function(){this._events||b.call(this);var a=arguments[0];if("newListener"===a&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(f=0,c=this._all.length;c>f;f++)this.event=a,this._all[f].apply(this,d)}if("error"===a&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var g;if(this.wildcard){g=[];var h="string"==typeof a?a.split(this.delimiter):a.slice();e.call(this,g,h,this.listenerTree,0)}else g=this._events[a];if("function"==typeof g){if(this.event=a,1===arguments.length)g.call(this);else if(arguments.length>1)switch(arguments.length){case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];g.apply(this,d)}return!0}if(g){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(var i=g.slice(),f=0,c=i.length;c>f;f++)this.event=a,i[f].apply(this,d);return i.length>0||this._all}return this._all},d.prototype.on=function(a,c){if("function"==typeof a)return this.onAny(a),this;if("function"!=typeof c)throw new Error("on only accepts instances of Function");if(this._events||b.call(this),this.emit("newListener",a,c),this.wildcard)return f.call(this,a,c),this;if(this._events[a]){if("function"==typeof this._events[a])this._events[a]=[this._events[a],c];else if(g(this._events[a])&&(this._events[a].push(c),!this._events[a].warned)){var d=h;"undefined"!=typeof this._events.maxListeners&&(d=this._events.maxListeners),d>0&&this._events[a].length>d&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}}else this._events[a]=c;return this},d.prototype.onAny=function(a){if(this._all||(this._all=[]),"function"!=typeof a)throw new Error("onAny only accepts instances of Function");return this._all.push(a),this},d.prototype.addListener=d.prototype.on,d.prototype.off=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");var c,d=[];if(this.wildcard){var f="string"==typeof a?a.split(this.delimiter):a.slice();d=e.call(this,null,f,this.listenerTree,0)}else{if(!this._events[a])return this;c=this._events[a],d.push({_listeners:c})}for(var h=0;h<d.length;h++){var i=d[h];if(c=i._listeners,g(c)){for(var j=-1,k=0,l=c.length;l>k;k++)if(c[k]===b||c[k].listener&&c[k].listener===b||c[k]._origin&&c[k]._origin===b){j=k;break}if(0>j)continue;return this.wildcard?i._listeners.splice(j,1):this._events[a].splice(j,1),0===c.length&&(this.wildcard?delete i._listeners:delete this._events[a]),this}(c===b||c.listener&&c.listener===b||c._origin&&c._origin===b)&&(this.wildcard?delete i._listeners:delete this._events[a])}return this},d.prototype.offAny=function(a){var b,c=0,d=0;if(a&&this._all&&this._all.length>0){for(b=this._all,c=0,d=b.length;d>c;c++)if(a===b[c])return b.splice(c,1),this}else this._all=[];return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(a){if(0===arguments.length)return!this._events||b.call(this),this;if(this.wildcard)for(var c="string"==typeof a?a.split(this.delimiter):a.slice(),d=e.call(this,null,c,this.listenerTree,0),f=0;f<d.length;f++){var g=d[f];g._listeners=null}else{if(!this._events[a])return this;this._events[a]=null}return this},d.prototype.listeners=function(a){if(this.wildcard){var c=[],d="string"==typeof a?a.split(this.delimiter):a.slice();return e.call(this,c,d,this.listenerTree,0),c}return this._events||b.call(this),this._events[a]||(this._events[a]=[]),g(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},d.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return d}):a.EventEmitter2=d}("undefined"!=typeof d&&"undefined"!=typeof d.title&&"undefined"!=typeof c?c:window)},{__browserify_process:40}],40:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var b=c.shift();b()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],41:[function(a,b,c){!function(a){function b(a){"}"===a.n.substr(a.n.length-1)&&(a.n=a.n.substring(0,a.n.length-1))}function c(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;e>d;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function e(a,b,c,d){for(var h=[],i=null,j=null;a.length>0;)if(j=a.shift(),"#"==j.tag||"^"==j.tag||f(j,d))c.push(j),j.nodes=e(a,j.tag,c,d),h.push(j);else{if("/"==j.tag){if(0===c.length)throw new Error("Closing tag without opener: /"+j.n);if(i=c.pop(),j.n!=i.n&&!g(j.n,i.n,d))throw new Error("Nesting error: "+i.n+" vs. "+j.n);return i.end=j.i,h}h.push(j)}if(c.length>0)throw new Error("missing closing tag: "+c.pop().n);return h}function f(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c].o==a.n)return a.tag="#",!0}function g(a,b,c){for(var d=0,e=c.length;e>d;d++)if(c[d].c==a&&c[d].o==b)return!0}function h(a){return a.replace(u,"\\\\").replace(r,'\\"').replace(s,"\\n").replace(t,"\\r")}function i(a){return~a.indexOf(".")?"d":"f"}function j(a){for(var b="",c=0,d=a.length;d>c;c++){var e=a[c].tag;"#"==e?b+=k(a[c].nodes,a[c].n,i(a[c].n),a[c].i,a[c].end,a[c].otag+" "+a[c].ctag):"^"==e?b+=l(a[c].nodes,a[c].n,i(a[c].n)):"<"==e||">"==e?b+=m(a[c]):"{"==e||"&"==e?b+=n(a[c].n,i(a[c].n)):"\n"==e?b+=p('"\\n"'+(a.length-1==c?"":" + i")):"_v"==e?b+=o(a[c].n,i(a[c].n)):void 0===e&&(b+=p('"'+h(a[c])+'"'))}return b}function k(a,b,c,d,e,f){return"if(_.s(_."+c+'("'+h(b)+'",c,p,1),c,p,0,'+d+","+e+',"'+f+'")){_.rs(c,p,function(c,p,_){'+j(a)+"});c.pop();}"}function l(a,b,c){return"if(!_.s(_."+c+'("'+h(b)+'",c,p,1),c,p,1,0,0,"")){'+j(a)+"};"}function m(a){return'_.b(_.rp("'+h(a.n)+'",c,p,"'+(a.indent||"")+'"));'}function n(a,b){return"_.b(_.t(_."+b+'("'+h(a)+'",c,p,0)));'}function o(a,b){return"_.b(_.v(_."+b+'("'+h(a)+'",c,p,0)));'}function p(a){return"_.b("+a+");"}var q=/\S/,r=/\"/g,s=/\n/g,t=/\r/g,u=/\\/g,v={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};a.scan=function(a,e){function f(){r.length>0&&(s.push(new String(r)),r="")}function g(){for(var a=!0,b=w;b<s.length;b++)if(a=s[b].tag&&v[s[b].tag]<v._v||!s[b].tag&&null===s[b].match(q),!a)return!1;return a}function h(a,b){if(f(),a&&g())for(var c,d=w;d<s.length;d++)s[d].tag||((c=s[d+1])&&">"==c.tag&&(c.indent=s[d].toString()),s.splice(d,1));else b||s.push({tag:"\n"});t=!1,w=s.length}function i(a,b){var d="="+y,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");return x=f[0],y=f[1],e+d.length-1}var j=a.length,k=0,l=1,m=2,n=k,o=null,p=null,r="",s=[],t=!1,u=0,w=0,x="{{",y="}}";for(e&&(e=e.split(" "),x=e[0],y=e[1]),u=0;j>u;u++)n==k?d(x,a,u)?(--u,f(),n=l):"\n"==a.charAt(u)?h(t):r+=a.charAt(u):n==l?(u+=x.length-1,p=v[a.charAt(u+1)],o=p?a.charAt(u+1):"_v","="==o?(u=i(a,u),n=k):(p&&u++,n=m),t=u):d(y,a,u)?(s.push({tag:o,n:c(r),otag:x,ctag:y,i:"/"==o?t-y.length:u+x.length}),r="",u+=y.length-1,n=k,"{"==o&&("}}"==y?u++:b(s[s.length-1]))):r+=a.charAt(u);
return h(t,!0),s},a.generate=function(b,c,d){var e='var _=this;_.b(i=i||"");'+j(b)+"return _.fl();";return d.asString?"function(c,p,i){"+e+";}":new a.Template(new Function("c","p","i",e),c,a,d)},a.parse=function(a,b,c){return c=c||{},e(a,"",[],c.sectionTags||[])},a.cache={},a.compile=function(a,b){b=b||{};var c=a+"||"+!!b.asString,d=this.cache[c];return d?d:(d=this.generate(this.parse(this.scan(a,b.delimiters),a,b),a,b),this.cache[c]=d)}}("undefined"!=typeof c?c:Hogan)},{}],42:[function(a,b){var c=a("./compiler");c.Template=a("./template").Template,b.exports=c},{"./compiler":41,"./template":43}],43:[function(a,b,c){var d={};!function(a,b){function c(a){return String(null===a||void 0===a?"":a)}function d(a){return a=c(a),j.test(a)?a.replace(e,"&amp;").replace(f,"&lt;").replace(g,"&gt;").replace(h,"&#39;").replace(i,"&quot;"):a}a.Template=function(a,c,d,e){this.r=a||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:""},a.Template.prototype={r:function(){return""},v:d,t:c,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&"string"==typeof e&&(e=this.c.compile(e,this.options)),e.ri(b,c,d)):""},rs:function(a,b,c){var d=a[a.length-1];if(!k(d))return c(a,b,this),void 0;for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return k(a)&&0===a.length?!1:("function"==typeof a&&(a=this.ls(a,b,c,d,e,f,g)),h=""===a||!!a,!d&&h&&b&&b.push("object"==typeof a?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if("."===a&&k(b[b.length-2]))return b[b.length-1];for(var h=1;h<e.length;h++)f&&"object"==typeof f&&e[h]in f?(g=f,f=f[e[h]]):f="";return d&&!f?!1:(d||"function"!=typeof f||(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){for(var e=!1,f=null,g=!1,h=b.length-1;h>=0;h--)if(f=b[h],f&&"object"==typeof f&&a in f){e=f[a],g=!0;break}return g?(d||"function"!=typeof e||(e=this.lv(e,b,c)),e):d?!1:""},ho:function(a,b,c,d,e){var f=this.c,g=this.options;g.delimiters=e;var d=a.call(b,d);return d=null==d?String(d):d.toString(),this.b(f.compile(d,g).render(b,c)),!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ls:function(a,b,c,d,e,f,g){var h=b[b.length-1],i=null;if(!d&&this.c&&a.length>0)return this.ho(a,h,c,this.text.substring(e,f),g);if(i=a.call(h),"function"==typeof i){if(d)return!0;if(this.c)return this.ho(i,h,c,this.text.substring(e,f),g)}return i},lv:function(a,b,d){var e=b[b.length-1],f=a.call(e);return"function"==typeof f&&(f=c(f.call(e)),this.c&&~f.indexOf("{{"))?this.c.compile(f,this.options).render(e,d):c(f)}};var e=/&/g,f=/</g,g=/>/g,h=/\'/g,i=/\"/g,j=/[&<>\"\']/,k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}}("undefined"!=typeof c?c:d)},{}],44:[function(a,b){!function(a){"use strict";function b(a){if(e(a))return a;if(d(a))return a;var b=function(b){return a.apply(this,b)};return b.prototype="create"in Object?Object.create(a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}):a.prototype,b}function c(a,b,c){b in a?a[b].push(c):a[b]=[c]}var d=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e=function(a){return"[object String]"===Object.prototype.toString.call(a)},f=function(a){return"[object Null]"===Object.prototype.toString.call(a)},g=function(a){return"[object Undefined]"===Object.prototype.toString.call(a)},h=function(a){this.config=a,this.cache={},this.categories={}};h.prototype.define=function(a){if(!a.name)throw"Name is not found or is empty as part of the definition.";if("name"in this.cache)throw"Type or type name already defined in the container.";if(f(a.type)||g(a.type))return this.cache[a.name]={singleton:!1,isEmpty:!0,instance:a.type},this;if(this.cache[a.name]={singleton:a.singleton||!1,fn:b(a.type),deps:a.deps||[],instance:null,requiresNew:!(e(a.type)||d(a.type))},a.category){var h=a.category||[];if(d(h))for(var i=0;i<h.length;i+=1)c(this.categories,h[i],a.name);else c(this.categories,h,a.name)}return this},h.prototype.resolve=function(a){var b="",c="",d=!1;if(e(a))b=a;else if(a.name)b=a.name||"";else{if(!a.category||!e(a.category))throw"Cannot resolve";c=a.category}if(b in this.cache&&this.cache[b].isEmpty)return this.cache[b].instance;var f,g;if(b in this.cache){var h=this.cache[b];for(d=a.singleton||h.singleton||!1,f=[],g=0;g<h.deps.length;g+=1){var i=this.resolve(h.deps[g]);f.push(i)}return d?(h.instance=h.instance||(h.requiresNew?new h.fn(f):h.fn),h.instance):h.requiresNew?new h.fn(f):h.fn}if(c in this.categories){var j=this.categories[c]||[],k=a.format||"array";if("literal"===k)for(f={},g=0;g<j.length;g+=1)f[j[g]]=this.resolve(j[g]);else for(f=[],g=0;g<j.length;g+=1)f.push(this.resolve(j[g]));return f}throw"The type '"+b+"' is not configured in the container."},a.exports=h}(b)},{}],45:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?(this._wrapped=a,void 0):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.5.2";var A=z.each=z.forEach=function(a,b,c){if(null!=a)if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,function(a){return a[b]})},z.where=function(a,b,c){return z.isEmpty(b)?c?void 0:[]:z[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},z.findWhere=function(a,b){return z.where(a,b,!0)},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&z.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&z.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return arguments.length<2||c?a[z.random(a.length-1)]:z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return z.isFunction(a)?a:function(b){return b[a]}};z.sortBy=function(a,b,c){var d=D(b);return z.pluck(z.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={},f=null==c?z.identity:D(c);return A(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};z.groupBy=E(function(a,b,c){(z.has(a,b)?a[b]:a[b]=[]).push(c)}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=null==c?z.identity:D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.indexOf(b,a)>=0})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){return a.apply(this,b.concat(j.call(arguments)))}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return function(){var c=[a];return i.apply(c,arguments),b.apply(this,c)}},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=x||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null==a)return void 0;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}]},{},[2]);